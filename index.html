<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="NetworkPub">
    <meta name="author" content="Guillaume Calmettes">

    <title>networkPubs</title>

    <!-- Bootstrap core CSS -->
    <link href="src/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="src/css/custom.css" rel="stylesheet">

  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">networkPubs</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <br><br>

    <div class="container" align="center">
      <div> 
        <h1>Want to see a network?</h1><br>
        <p align="left">
          Science is all about collaborations. Enter a formatted Pubmed query and get the network of the authors associated with the top results of this query! For example, if you want to see with whom an auhor has collaborated, enter the pubmed query for the author's name (e.g.: "lastname firstname[Author]") and see with whom they have published!
        </p>
        <p align="left" style="color: #b4b4b4">
          Note: Depending on the number of results to analyze, it might take several seconds for the network to be constructed and appear, hang tight!
        </p>
      </div>
    </div>

    <br>
    
    <div class="container" align="center">
      <!-- Request the URL -->
      <form action="javascript:getData();">
        <div class="form-group col-md-6">
          <input type="text" id="querySearch" name='querySearch' placeholder="Enter the authors to look up here"><br>
        </div>
      
        <div>
          <button type="submit" class="button">Show me the network!</button>
        </div>
      </form>
    </div>
    
    <div class="container">
      <div class="col-md-4 container">
        <div class="col-md-4">
          Edges attraction:
        </div>
        <div class="col-md-8">
          <!-- This block can be reused as many times as needed -->
          <section id="linkStrengthSlider" class="range-slider">
            <span class="rangeValues"></span>
            <input value="0.01" min="0.001" max="0.1" step="0.001" type="range">
            <input value="0.05" min="0.001" max="0.1" step="0.001" type="range">
          </section>
        </div>
      </div>
      <div class="col-md-4 container">
        <div class="col-md-4">
          Nodes repulsion:
        </div>
        <div class="col-md-8">
          <!-- This block can be reused as many times as needed -->
          <section id="nodeStrengthSlider" class="range-slider">
            <span class="rangeValues"></span>
            <input value="-100" min="-800" max="0" step="1" type="range">
            <input value="-10" min="-800" max="0" step="1" type="range">
          </section>
        </div>
      </div>
    </div>

    </div>
    <br>


    <div id="viz" width="100%"></div>
    <div id="waiting" style="opacity: 0">Your request is processing! This can take a <span style="color: #E01A25;"><em><b>looooooong</b></em></span> time, please hang tight :)</div>


    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="src/js/utils.js"></script>
    <script src="src/js/viz.js"></script>
	
		<script type="text/javascript">
			function getData(){
        const queryList = document.querySelector("#querySearch").value
        document.querySelector("#waiting").style.opacity="1"
          showMeTheGraphFor([queryList])
			}
		</script>
    <style>

    canvas {
    	position: absolute;
    	margin: 0;
      border:1px solid #000000;
    }

    </style>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>    
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="src/js/bootstrap.min.js"></script>
  </body>
